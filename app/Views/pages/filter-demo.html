<!-- app/Views/pages/filter-demo.html -->
{% extends 'layouts/base' %}

{% block title %}Filter Demo - {{ app_name }}{% endblock %}

{% block content %}
<h1>🎛️ Filter System Demo</h1>

<!-- Text Filters -->
<div style="background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px;">
    <h2>🔤 Text Filters</h2>
    <table style="width: 100%; border-collapse: collapse;">
        <tr>
            <td><strong>Original:</strong></td>
            <td>{{ player_name }}</td>
        </tr>
        <tr>
            <td><strong>Upper:</strong></td>
            <td>{{ player_name|upper }}</td>
        </tr>
        <tr>
            <td><strong>Lower:</strong></td>
            <td>{{ player_name|lower }}</td>
        </tr>
        <tr>
            <td><strong>Capitalize:</strong></td>
            <td>{{ player_name|capitalize }}</td>
        </tr>
        <tr>
            <td><strong>Truncate:</strong></td>
            <td>{{ long_text|truncate:50 }}</td>
        </tr>
        <tr>
            <td><strong>Default:</strong></td>
            <td>{{ empty_value|default:'No value provided' }}</td>
        </tr>
    </table>
</div>

<!-- Number Filters -->
<div style="background: #e8f5e8; padding: 20px; margin: 20px 0; border-radius: 8px;">
    <h2>🔢 Number Filters</h2>
    <table style="width: 100%; border-collapse: collapse;">
        <tr>
            <td><strong>Transfer Fee:</strong></td>
            <td>{{ transfer_fee|currency:€:left }}</td>
        </tr>
        <tr>
            <td><strong>Salary:</strong></td>
            <td>{{ salary|number_format:2:,:. }} €</td>
        </tr>
        <tr>
            <td><strong>Market Value:</strong></td>
            <td>{{ market_value|currency:$:left:0 }}</td>
        </tr>
    </table>
</div>

<!-- Date Filters -->
<div style="background: #fff3cd; padding: 20px; margin: 20px 0; border-radius: 8px;">
    <h2>📅 Date Filters</h2>
    <table style="width: 100%; border-collapse: collapse;">
        <tr>
            <td><strong>Match Date (Default):</strong></td>
            <td>{{ match_date|date }}</td>
        </tr>
        <tr>
            <td><strong>Match Date (German):</strong></td>
            <td>{{ match_date|date:d.m.Y }}</td>
        </tr>
        <tr>
            <td><strong>Match Date (Full):</strong></td>
            <td>{{ match_date|date:F j, Y H:i }}</td>
        </tr>
    </table>
</div>

<!-- Utility Filters -->
<div style="background: #d1ecf1; padding: 20px; margin: 20px 0; border-radius: 8px;">
    <h2>⚙️ Utility Filters</h2>
    <table style="width: 100%; border-collapse: collapse;">
        <tr>
            <td><strong>Team Name Length:</strong></td>
            <td>{{ team_name|length }} characters</td>
        </tr>
        <tr>
            <td><strong>Players Count:</strong></td>
            <td>{{ players|count }} players</td>
        </tr>
        <tr>
            <td><strong>Goals Plural:</strong></td>
            <td>{{ goals|plural:goal:goals }}</td>
        </tr>
        <tr>
            <td><strong>HTML Content (Raw):</strong></td>
            <td>{{ html_content|raw }}</td>
        </tr>
    </table>
</div>

<!-- Combined Filters -->
<div style="background: #f8d7da; padding: 20px; margin: 20px 0; border-radius: 8px;">
    <h2>🔗 Combined Filters</h2>
    <table style="width: 100%; border-collapse: collapse;">
        <tr>
            <td><strong>Team → Upper → Truncate:</strong></td>
            <td>{{ team_name|upper|truncate:10 }}</td>
        </tr>
        <tr>
            <td><strong>Empty → Default → Upper:</strong></td>
            <td>{{ empty_value|default:no data|upper }}</td>
        </tr>
        <tr>
            <td><strong>Date → Default → Truncate:</strong></td>
            <td>{{ invalid_date|default:No date set|truncate:15 }}</td>
        </tr>
    </table>
</div>

<!-- Slug Filters -->
<div style="background: #e1d5e7; padding: 20px; margin: 20px 0; border-radius: 8px;">
    <h2>🔗 Slug Filters (SEO-Friendly URLs)</h2>
    <table style="width: 100%; border-collapse: collapse;">
        <tr>
            <td><strong>Article Title:</strong></td>
            <td>"{{ article_title }}"</td>
        </tr>
        <tr>
            <td><strong>Slug:</strong></td>
            <td>{{ article_title|slug }}</td>
        </tr>
        <tr>
            <td><strong>Team with Umlauts:</strong></td>
            <td>"{{ team_name_special }}"</td>
        </tr>
        <tr>
            <td><strong>Team Slug:</strong></td>
            <td>{{ team_name_special|slug }}</td>
        </tr>
        <tr>
            <td><strong>URL Example:</strong></td>
            <td><code>/articles/{{ article_title|slug }}</code></td>
        </tr>
    </table>
</div>

<!-- NL2BR Filters -->
<div style="background: #d4edda; padding: 20px; margin: 20px 0; border-radius: 8px;">
    <h2>📝 Newline to BR Filters</h2>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
        <div>
            <strong>Original Comment:</strong>
            <div style="background: white; padding: 10px; border: 1px solid #ccc; font-family: monospace;">
                {{ user_comment }}
            </div>
        </div>
        <div>
            <strong>With NL2BR:</strong>
            <div style="background: white; padding: 10px; border: 1px solid #ccc;">
                {{ user_comment|nl2br|raw }}
            </div>
        </div>
    </div>

    <div style="margin-top: 15px;">
        <strong>Multiline Text:</strong><br>
        {{ multiline_text|nl2br|raw }}
    </div>
</div>

<!-- Strip Tags Filters -->
<div style="background: #f8d7da; padding: 20px; margin: 20px 0; border-radius: 8px;">
    <h2>🧹 Strip Tags Filters (Security)</h2>
    <table style="width: 100%; border-collapse: collapse;">
        <tr>
            <td><strong>Rich Content (Original):</strong></td>
            <td>{{ rich_content|raw }}</td>
        </tr>
        <tr>
            <td><strong>Strip All Tags:</strong></td>
            <td>{{ rich_content|strip_tags }}</td>
        </tr>
        <tr>
            <td><strong>Dangerous Input:</strong></td>
            <td>"{{ user_input }}"</td>
        </tr>
        <tr>
            <td><strong>Cleaned (Safe):</strong></td>
            <td>{{ user_input|strip_tags }}</td>
        </tr>
    </table>
</div>

<!-- JSON Filters -->
<div style="background: #ffeaa7; padding: 20px; margin: 20px 0; border-radius: 8px;">
    <h2>📋 JSON Filters (JavaScript Integration)</h2>
    <table style="width: 100%; border-collapse: collapse;">
        <tr>
            <td><strong>Player Stats Object:</strong></td>
            <td><code>{{ player_stats|json }}</code></td>
        </tr>
        <tr>
            <td><strong>Simple Array:</strong></td>
            <td><code>{{ simple_array|json }}</code></td>
        </tr>
    </table>

    <div style="margin-top: 15px;">
        <strong>JavaScript Usage Example:</strong>
        <pre style="background: #2d3748; color: #e2e8f0; padding: 15px; border-radius: 5px; overflow-x: auto;"><code>const playerData = {{ player_stats|json|raw }};
console.log(playerData.name); // "Lionel Messi"

const items = {{ simple_array|json|raw }};
items.forEach(item => console.log(item));</code></pre>
    </div>
</div>

<!-- First/Last Filters -->
<div style="background: #dbeafe; padding: 20px; margin: 20px 0; border-radius: 8px;">
    <h2>🎯 First/Last Filters (Array Navigation)</h2>
    <table style="width: 100%; border-collapse: collapse;">
        <tr>
            <td><strong>Navigation Items:</strong></td>
            <td>{{ navigation_items|json }}</td>
        </tr>
        <tr>
            <td><strong>First Item:</strong></td>
            <td><strong>{{ navigation_items|first }}</strong></td>
        </tr>
        <tr>
            <td><strong>Last Item:</strong></td>
            <td><strong>{{ navigation_items|last }}</strong></td>
        </tr>
        <tr>
            <td><strong>Alphabet:</strong></td>
            <td>{{ alphabet|json }}</td>
        </tr>
        <tr>
            <td><strong>First Letter:</strong></td>
            <td>{{ alphabet|first }}</td>
        </tr>
        <tr>
            <td><strong>Last Letter:</strong></td>
            <td>{{ alphabet|last }}</td>
        </tr>
        <tr>
            <td><strong>String "{{ sample_string }}":</strong></td>
            <td>First: "{{ sample_string|first }}", Last: "{{ sample_string|last }}"</td>
        </tr>
        <tr>
            <td><strong>Empty Array:</strong></td>
            <td>First: "{{ empty_array|first|default:'none' }}", Last: "{{ empty_array|last|default:'none' }}"</td>
        </tr>
    </table>
</div>

<!-- Combined Advanced Filters -->
<div style="background: #f3e8ff; padding: 20px; margin: 20px 0; border-radius: 8px;">
    <h2>🔗 Advanced Combined Filters</h2>
    <table style="width: 100%; border-collapse: collapse;">
        <tr>
            <td><strong>Title → Slug → Upper:</strong></td>
            <td>{{ article_title|slug|upper }}</td>
        </tr>
        <tr>
            <td><strong>Comment → NL2BR → Strip Tags:</strong></td>
            <td>{{ user_comment|nl2br|strip_tags }}</td>
        </tr>
        <tr>
            <td><strong>Array → First → Upper:</strong></td>
            <td>{{ navigation_items|first|upper }}</td>
        </tr>
        <tr>
            <td><strong>Rich → Strip → Truncate:</strong></td>
            <td>{{ rich_content|strip_tags|truncate:20 }}</td>
        </tr>
    </table>
</div>

<!-- Filter Summary -->
<div style="background: #f1f5f9; padding: 20px; margin: 20px 0; border-radius: 8px; border: 2px solid #3b82f6;">
    <h2>📊 Complete Filter Overview</h2>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
        <div>
            <strong>📝 Text Filters:</strong><br>
            <small>upper, lower, capitalize, truncate, default, raw</small>
        </div>
        <div>
            <strong>🔢 Number Filters:</strong><br>
            <small>number_format, currency</small>
        </div>
        <div>
            <strong>📅 Date Filters:</strong><br>
            <small>date</small>
        </div>
        <div>
            <strong>⚙️ Utility Filters:</strong><br>
            <small>length, count, plural</small>
        </div>
        <div>
            <strong>🔗 Advanced Text:</strong><br>
            <small>slug, nl2br, strip_tags</small>
        </div>
        <div>
            <strong>🎯 Advanced Utility:</strong><br>
            <small>json, first, last</small>
        </div>
    </div>

    <p style="margin-top: 15px; font-style: italic; color: #6b7280;">
        Total: <strong>18 filters</strong> available for template use!
    </p>
</div>
{% endblock %}