<!-- app/Views/pages/test/filters.html -->
{% extends "layouts/base.html" %}

{% block title %}Filter Demo - {{ app_name }}{% endblock %}

{% block content %}
<h2>üéõÔ∏è Enhanced Filter System Demo</h2>

<!-- Text Filters -->
<section>
    <h3>Text Filters</h3>
    <div class="filter-examples">
        <p><strong>Original:</strong> {{ demo.long_text }}</p>
        <p><strong>Truncate:</strong> {{ demo.long_text|truncate:50 }}</p>
        <p><strong>Upper:</strong> {{ demo.player_name|upper }}</p>
        <p><strong>Lower:</strong> {{ demo.player_name|lower }}</p>
        <p><strong>Capitalize:</strong> {{ demo.player_name|capitalize }}</p>
        <p><strong>Slug:</strong> {{ demo.team_name|slug }}</p>
    </div>
</section>

<!-- Number Filters -->
<section>
    <h3>Number Filters</h3>
    <div class="filter-examples">
        <p><strong>Transfer Fee:</strong> {{ demo.transfer_fee|currency:'‚Ç¨':'left' }} </p>
        <p><strong>Salary:</strong> {{ demo.salary|number_format:2:',':'.' }} ‚Ç¨</p>
        <p><strong>Goals:</strong> {{ demo.goals|number_format:0 }}</p>
        <p><strong>Market Value:</strong> {{ demo.market_value|currency:'$':'left' }}</p>
    </div>
</section>

<!-- Date Filters -->
<section>
    <h3>Date Filters</h3>
    <div class="filter-examples">
        <p><strong>Match Date (Default):</strong> {{ demo.match_date|date }}</p>
        <p><strong>Match Date (German):</strong> {{ demo.match_date|date:'d.m.Y' }}</p>
        <p><strong>Match Date (Full):</strong> {{ demo.match_date|date:'F j, Y H:i' }}</p>
        <p><strong>Match Date (Raw):</strong> {{ demo.match_date|date:'F j, Y H:i'|raw }}</p>
        <p><strong>Birth Date:</strong> {{ demo.birth_date|date:'d.m.Y' }}</p>
    </div>
</section>

<!-- Rating Filters -->
<section>
    <h3>Rating & Special Filters</h3>
    <div class="filter-examples">
        <p><strong>Player Rating:</strong> {{ demo.player_rating|rating:10 }}</p>
        <p><strong>Team Rating:</strong> {{ demo.team_rating|rating:5 }}</p>
        <p><strong>JSON Data:</strong> <code>{{ demo.player_data|json }}</code></p>
    </div>
</section>

<!-- Default & Conditional Filters -->
<section>
    <h3>Default Values & Conditionals</h3>
    <div class="filter-examples">
        <p><strong>Comment (has value):</strong> {{ demo.comment|default:'No comment available' }}</p>
        <p><strong>Bio (empty):</strong> {{ demo.empty_bio|default:'Biography not provided' }}</p>
        <p><strong>Goals Plural:</strong>
            {{ demo.goals }} {{ demo.goals|plural:'goal':'goals' }}
        </p>
        <p><strong>Players Plural:</strong>
            {{ demo.player_count }} {{ demo.player_count|plural:'player':'players' }}
        </p>
    </div>
</section>

<!-- Raw HTML Filter -->
<section>
    <h3>Raw HTML (Use with caution!)</h3>
    <div class="filter-examples">
        <p><strong>Escaped:</strong> {{ demo.html_content }}</p>
        <p><strong>Raw:</strong> {{ demo.html_content|raw }}</p>
    </div>
</section>

<!-- Combined Filters -->
<section>
    <h3>Combined Filters</h3>
    <div class="filter-examples">
        <p><strong>Team Name ‚Üí Slug ‚Üí Upper:</strong> {{ demo.team_name|slug|upper }}</p>
        <p><strong>Long Text ‚Üí Truncate ‚Üí Capitalize:</strong> {{ demo.long_text|truncate:30|capitalize }}</p>
        <p><strong>Empty Value ‚Üí Default ‚Üí Upper:</strong> {{ demo.empty_value|default:'no data'|upper }}</p>
    </div>
</section>

<style>
    .filter-examples {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        margin: 15px 0;
    }

    .filter-examples p {
        margin: 8px 0;
        padding: 8px;
        background: white;
        border-left: 3px solid #667eea;
        border-radius: 4px;
    }

    section {
        margin: 30px 0;
    }

    .rating {
        display: inline-block;
        padding: 2px 8px;
        border-radius: 4px;
        background: #f0f0f0;
        border: 1px solid #ddd;
    }

    .rating[data-percentage="100"] {
        background: #28a745;
        color: white;
    }

    .rating[data-percentage^="9"], .rating[data-percentage^="8"] {
        background: #17a2b8;
        color: white;
    }

    .rating[data-percentage^="7"], .rating[data-percentage^="6"] {
        background: #ffc107;
    }

    .rating[data-percentage^="5"], .rating[data-percentage^="4"] {
        background: #fd7e14;
    }

    .rating[data-percentage^="3"], .rating[data-percentage^="2"], .rating[data-percentage^="1"] {
        background: #dc3545;
        color: white;
    }
</style>
{% endblock %}